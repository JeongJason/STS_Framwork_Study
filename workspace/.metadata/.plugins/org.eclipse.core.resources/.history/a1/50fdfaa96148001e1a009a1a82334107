package com.example.board.domain.vo;

import lombok.Data;
import lombok.NoArgsConstructor;

@Data
@NoArgsConstructor
public class PageDTO {
	
//	현재 페이지를 기준으로 시작페이지
	private int startPage;
//	현재 페이지를 기준으로 마지막 페이지
	private int endPage;
//	실제 마지막 페이지
	private int realEnd;
//	이전 버튼과 다음 버튼의 유무 검사
	private boolean prev, next;
	
//	전체 게시글 수
	private int total;
	private Criteria criteria;

	public PageDTO(int total, Criteria criteria) {
		this.total = total;
		this.criteria = criteria;
		
		
//		ceil(실수 값) : 올림 처리, 페이지에 게시글이 한 개라도 있다면, 올림을 하여 해당 페이지를 표시하기위함.
		
		this.endPage = (int)(Math.ceil(criteria.getPageNum()/(double)criteria.getAmount())) * criteria.getAmount();
		this.startPage= endPage - criteria.getAmount() -1;
		
		this.realEnd = (int)Math.ceil(total * 1.0 /criteria.getAmount());
		
		if(this.realEnd< this.endPage) {
			this.endPage = this.realEnd;
		}
		
		this.prev = this.startPage%10 >= 1;
		this.next = this.endPage < this.realEnd;
		
	}
}
